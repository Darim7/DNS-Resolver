# DNS-Resolver
This is a network project that mimics `dig`! Thus the name `mydig.py` :sunglasses:

## What did I do?
In this project, I use `dnspython` to query for resource records on the internet.

### Basics
For the first part, I made a basic DNS resolver. It uses a recursive function `recurse()` to query for a domain name.

I first make the query to the root servers. It is expected that the root servers doesn't have the records for the specific domain that I ask for if they are not any of the top level domains. Therefore, my program will then go through the additional section to see if there is given `A` records of the related top level domain servers or the `A` record of the place that we're querying for if we're lucky.

If there is nothing in the additional section, we will then go for the authority sections to resolve for the `A` records for the tld servers that has manages the name that we're querying for.

Once we get the `A` record of the tld server or next level domain, we will then query further in the Domain Name System until we found an answer section or we exhausted all the possiblities and couldn't resolve for the name :sob:.

### DNSSec
Before explainations, I am going to clear out some acronyms:

`ksk`: Key Signing Key

`zsk`: Zone Signing Key

Then I implemented the DNSSec using the `dnspython` package on the top of the existing resolver.

First, I put the `want_dnssec` variable in `dns.message.make_query()` to true so that I can get `RRSIG` in the response.

When I get the `RRSIG` field in the `A` record set, I then make a query for `DNSKEY` record to the server.

Since the `DNSKEY` is a set of `zsk` (including `ksk`) that is generated by the zone that I am querying records for, I am able to use this key and the `RRSIG` I got along the `A` record to validate the validity of the record I received from this zone. To validate, I used the `dns.dnssec.validate_rrsig()` function in dnssec. The expected outcome is that when we put the `RRSIG` and the `zsk` we got from `DNSKEY` together, we will be able to get the record that has the `RRSIG` attached. This way we can be sure that the result we get is at least valid in the zone.

But how can we be sure that our response is valid in the parent of the zone as well?!

Then we need to come to next step, validating the `ksk`.
